@model IEnumerable<eManager.Domain.Department>

@{
    ViewBag.Title = "Search";
}

<h2>Search</h2>

<p>
    @using (Html.BeginForm("Search", "Department", FormMethod.Get)) {
        @Html.Label("Enter a keyword to search")
        @Html.TextBox("query")
        <input type="submit" value="Search" />
    }
</p>

@{
    if (Model!=null)
    {
        <h2>Results</h2>
        if(Model.Count()==0)
        {
            <p>No record found for the matching query.</p>
        }
        else
        {
            <table>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Category</th>
            </tr>
    
        @foreach (var department in Model)
        {
            <tr>
                <td>@department.Id</td>
                <td>@department.Name</td>
                <td>@department.Category</td>
            </tr>
        }
        </table>
        }  
    }  
}